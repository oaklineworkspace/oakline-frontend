ğŸ§­ Prompt for Replit AI (Frontend Repository)

ğŸ’¬ â€œEnhance the Oakline Bank frontend loan system to make it fully professional and connected to Supabase.
Users should be able to apply for loans, see their approval status, loan reference number, remaining balance, and repayment history.

â¸»

ğŸŸ© Loan Application Page (/loan/apply)
	1.	Create a clean, bank-style loan application form with:
	â€¢	Loan type (Personal / Business / Mortgage / Auto)
	â€¢	Amount requested
	â€¢	Purpose of loan
	â€¢	Repayment period (in months)
	â€¢	Userâ€™s selected account number for disbursement
	â€¢	Agreement checkbox (â€œI agree to Oakline Bank terms and repayment policyâ€)
	2.	Validate form input (no empty fields, valid numbers).
	3.	On submit:
	â€¢	Insert a new row into loans table in Supabase:
	â€¢	user_id, account_id, loan_type, amount, purpose, repayment_period, status = 'pending', created_at
	â€¢	Show a success message:
â€œYour loan application has been submitted. Youâ€™ll receive an update once reviewed by our admin team.â€

â¸»

ğŸ“Š Loan Dashboard (/loan)

Display all user loans from Supabase filtered by user_id.

Each loan card should show:
	â€¢	Loan Reference ID (e.g., OAKLN-20251102-12345)
	â€¢	Amount (e.g., $10,000)
	â€¢	Status (Pending / Approved / Active / Closed)
	â€¢	Remaining Balance
	â€¢	Approved Date
	â€¢	Disbursed Date
	â€¢	Next Payment Due

If no loans exist:

Show friendly message: â€œYou have no active loans. Apply for one today!â€

â¸»

ğŸ’° Loan Repayment Section (/loan/repay)

If loan status = active, show repayment form:
	â€¢	Amount to repay
	â€¢	Select repayment method:
	â€¢	â€œFrom my account balanceâ€
	â€¢	â€œCrypto depositâ€
	â€¢	On submit:
	â€¢	If user chooses â€œfrom my account balance,â€ deduct from their accounts.balance
	â€¢	Record repayment in loan_payments
	â€¢	Update remaining_balance
	â€¢	If remaining_balance <= 0, update status = 'closed'
	â€¢	Show success message: â€œRepayment successful! Thank you.â€

â¸»

ğŸ§¾ Loan History (/loan/history)
	â€¢	Table showing all repayments with:
	â€¢	Payment Date
	â€¢	Amount
	â€¢	Payment Method
	â€¢	Status
	â€¢	Fetch from loan_payments filtered by loan_id.

â¸»

ğŸ“¢ Notifications Integration

Whenever admin changes a loan status (e.g., approved/disbursed/closed), the user should see:
	â€¢	Notification banner or toast:
	â€¢	â€œğŸ‰ Your loan has been approved!â€
	â€¢	â€œğŸ’¸ Your loan has been disbursed to your account.â€
	â€¢	â€œâœ… Your loan is fully repaid.â€

Use Supabase real-time subscriptions on the loans table to auto-update the dashboard when status changes.

â¸»

ğŸ¦ Dashboard Header

At the top of the user dashboard:
	â€¢	Show Current Account Balance
	â€¢	Show Total Loan Amount Active
	â€¢	Show Total Remaining Loan Balance
	â€¢	Refresh automatically on disbursement or repayment.

â¸»

âš™ï¸ Technical Notes
	â€¢	All pages fetch data securely via Supabase queries filtered by user_id.
	â€¢	Include clear loading and error states.
	â€¢	Make design modern, minimal, and responsive.
	â€¢	Include professional loan-related imagery for visuals.

â¸»

ğŸ§  Ensure frontend flow matches admin logic:
	â€¢	Loans are disbursed only after admin approval and treasury verification.
	â€¢	Repayments credit back to the treasury account automatically.