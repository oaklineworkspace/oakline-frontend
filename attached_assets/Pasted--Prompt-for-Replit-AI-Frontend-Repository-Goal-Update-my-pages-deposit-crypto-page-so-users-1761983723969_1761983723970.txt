ğŸ§  Prompt for Replit AI (Frontend Repository)

ğŸª™ Goal:
Update my pages/deposit-crypto page so users can see and use their assigned crypto wallets from both user_crypto_wallets and admin_assigned_wallets tables.

Right now, it only checks one table and shows â€œno wallet assigned.â€
I want it to correctly fetch, merge, and display wallets from both tables, showing crypto type, network type, wallet address, and a QR code for each wallet.

âš™ï¸ Backend / Data Fetch Logic
	â€¢	In the API or server function that loads the wallets for the logged-in user:
	â€¢	Fetch from both tables and combine results:

SELECT 
  'user_wallet' AS source,
  ucw.id::text AS id,
  ucw.crypto_type,
  ucw.network_type,
  ucw.wallet_address,
  ucw.created_at,
  ucw.updated_at
FROM public.user_crypto_wallets ucw
WHERE ucw.user_id = :user_id

UNION ALL

SELECT 
  'admin_wallet' AS source,
  aaw.id::text AS id,
  aaw.crypto_type,
  aaw.network_type,
  aaw.wallet_address,
  aaw.created_at,
  aaw.updated_at
FROM public.admin_assigned_wallets aaw
WHERE aaw.user_id = :user_id;

Return the combined array of wallets to the frontend

ğŸ¨ Frontend Design Requirements

When the user opens /deposit-crypto:
	1.	Display all available wallets (grouped by crypto type).
	â€¢	Example:

USDT (Tether)
â”œâ”€ Network: BSC (BEP20)
â”œâ”€ Wallet: 0xABCD...1234
â”œâ”€ [Copy Address] [Show QR Code]
â”œâ”€ Note: Make sure you send USDT using BEP20 network.

â€¢	Repeat for BTC, ETH, BNB, etc.

	2.	Show QR Code:
	â€¢	Use any existing React QR code library (react-qr-code or similar).
	â€¢	The QR should display the wallet address.
	â€¢	Label it â€œScan to Deposit.â€
	3.	Copy Button:
	â€¢	Add a small button beside the address to copy it.
	â€¢	Show toast message: â€œWallet address copied!â€
	4.	Empty State:
	â€¢	If no wallets exist in both tables:
âš ï¸ â€œNo wallet assigned yet. Please contact support.â€
	5.	Deposit Form Logic:
	â€¢	When a user selects a wallet and enters an amount,
	â€¢	Submit the deposit as pending in the crypto_deposits table.
	â€¢	Include fields: user_id, crypto_type, network_type, wallet_address, amount, status = 'pending', created_at.

ğŸ§© UI Behavior Example

User Flow:
	1.	User selects Crypto Type (dropdown) â†’ e.g., USDT
	2.	User selects Network Type (dropdown) â†’ e.g., BEP20
	3.	The assigned wallet address appears automatically.
	4.	User can copy or scan QR code to deposit.
	5.	User enters amount deposited and clicks Submit.
	6.	System shows â€œDeposit Submitted â€” Pending Confirmation.â€

